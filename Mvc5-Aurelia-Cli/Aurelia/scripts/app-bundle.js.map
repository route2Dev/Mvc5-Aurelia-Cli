{"version":3,"sources":["services/localStorageService.ts","services/authService.ts","services/auth-step.ts","services/auth-interceptor-service.ts","app.ts","auth-config.ts","environment.ts","home.ts","login.ts","logout.ts","main.ts","nav-bar.ts","random-quote.ts","secret-quote.ts","signup.ts","todo.ts","resources/index.ts","D:/projects/spikes/Aurelia/Mvc5-Aurelia-Cli/Mvc5-Aurelia-Cli/Aurelia/node_modules/aurelia-auth/dist/amd/auth-service.js","D:/projects/spikes/Aurelia/Mvc5-Aurelia-Cli/Mvc5-Aurelia-Cli/Aurelia/node_modules/aurelia-auth/dist/amd/authentication.js","D:/projects/spikes/Aurelia/Mvc5-Aurelia-Cli/Mvc5-Aurelia-Cli/Aurelia/node_modules/aurelia-auth/dist/amd/base-config.js","D:/projects/spikes/Aurelia/Mvc5-Aurelia-Cli/Mvc5-Aurelia-Cli/Aurelia/node_modules/aurelia-auth/dist/amd/auth-utilities.js","D:/projects/spikes/Aurelia/Mvc5-Aurelia-Cli/Mvc5-Aurelia-Cli/Aurelia/node_modules/aurelia-auth/dist/amd/storage.js","D:/projects/spikes/Aurelia/Mvc5-Aurelia-Cli/Mvc5-Aurelia-Cli/Aurelia/node_modules/aurelia-auth/dist/amd/oAuth1.js","D:/projects/spikes/Aurelia/Mvc5-Aurelia-Cli/Mvc5-Aurelia-Cli/Aurelia/node_modules/aurelia-auth/dist/amd/popup.js","D:/projects/spikes/Aurelia/Mvc5-Aurelia-Cli/Mvc5-Aurelia-Cli/Aurelia/node_modules/aurelia-auth/dist/amd/oAuth2.js","D:/projects/spikes/Aurelia/Mvc5-Aurelia-Cli/Mvc5-Aurelia-Cli/Aurelia/node_modules/aurelia-auth/dist/amd/authorize-step.js","D:/projects/spikes/Aurelia/Mvc5-Aurelia-Cli/Mvc5-Aurelia-Cli/Aurelia/node_modules/aurelia-auth/dist/amd/auth-fetch-config.js","D:/projects/spikes/Aurelia/Mvc5-Aurelia-Cli/Mvc5-Aurelia-Cli/Aurelia/node_modules/aurelia-auth/dist/amd/auth-filter.js","D:/projects/spikes/Aurelia/Mvc5-Aurelia-Cli/Mvc5-Aurelia-Cli/Aurelia/src/app.html","D:/projects/spikes/Aurelia/Mvc5-Aurelia-Cli/Mvc5-Aurelia-Cli/Aurelia/src/styles/main.css","D:/projects/spikes/Aurelia/Mvc5-Aurelia-Cli/Mvc5-Aurelia-Cli/Aurelia/src/home.html","D:/projects/spikes/Aurelia/Mvc5-Aurelia-Cli/Mvc5-Aurelia-Cli/Aurelia/src/login.html","D:/projects/spikes/Aurelia/Mvc5-Aurelia-Cli/Mvc5-Aurelia-Cli/Aurelia/src/logout.html","D:/projects/spikes/Aurelia/Mvc5-Aurelia-Cli/Mvc5-Aurelia-Cli/Aurelia/src/nav-bar.html","D:/projects/spikes/Aurelia/Mvc5-Aurelia-Cli/Mvc5-Aurelia-Cli/Aurelia/src/random-quote.html","D:/projects/spikes/Aurelia/Mvc5-Aurelia-Cli/Mvc5-Aurelia-Cli/Aurelia/src/secret-quote.html","D:/projects/spikes/Aurelia/Mvc5-Aurelia-Cli/Mvc5-Aurelia-Cli/Aurelia/src/signup.html"],"names":[],"mappings":"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OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;YAC9B,CAAC,CAAC;iBACD,KAAK,CAAC,UAAA,KAAK;gBACR,KAAI,CAAC,WAAW,GAAG,KAAK,CAAC,QAAQ,CAAC;YACtC,CAAC,CAAC,CAAC;QACX,CAAC;QAAA,CAAC;QACN,aAAC;IAAD,CAvBA,AAuBC,IAAA;IAvBY,MAAM;QADlB,0BAAM,CAAC,0BAAW,CAAC;yCASU,0BAAW;OAR5B,MAAM,CAuBlB;IAvBY,wBAAM;;;;;ICTnB;QAGI,cAAmB,WAAmB;YAAnB,gBAAW,GAAX,WAAW,CAAQ;YAFtC,SAAI,GAAG,KAAK,CAAC;QAE4B,CAAC;QAC9C,WAAC;IAAD,CAJA,AAIC,IAAA;IAJY,oBAAI;;;;;ICEjB,mBAA0B,MAA8B;IAExD,CAAC;IAFD,8BAEC;;;ACJD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1BA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA","file":"app-bundle.js","sourcesContent":["\r\nexport class LocalStorageService {\r\n    set(key: string, data) {\r\n        localStorage.setItem(key, JSON.stringify(data));\r\n    }\r\n\r\n    get(key: string) {\r\n        return localStorage.getItem(key);\r\n    }\r\n\r\n    remove(key: string) {\r\n        localStorage.removeItem(key);\r\n    }\r\n}","import { inject } from 'aurelia-framework';\r\nimport { HttpClient, json } from 'aurelia-fetch-client';\r\nimport { Router } from 'aurelia-router';\r\n\r\nimport { LocalStorageService } from './localStorageService';\r\n\r\ninterface IAuthentication {\r\n    isAuth: boolean;\r\n    userName: string;\r\n    useRefreshTokens: boolean;\r\n}\r\n\r\ninterface IExternalData {\r\n    provider: string;\r\n    userName: string;\r\n    externalAccessToken: string;\r\n}\r\n\r\nexport interface ILoginData {\r\n    userName: string;\r\n    password: string;\r\n}\r\n\r\nexport interface IRegistration extends ILoginData {\r\n    confirmPassword: string;\r\n}\r\n\r\nexport interface IAuthorizationData {\r\n    accessToken: string;\r\n    tokenType: string;\r\n    refreshToken: string;\r\n    userName: string;\r\n    useRefreshTokens: boolean;\r\n}\r\n\r\n@inject(HttpClient, LocalStorageService, Router)\r\nexport class AuthService {\r\n    baseUrl = \"http://localhost:45933/\";\r\n\r\n    private _authentication: IAuthentication = {\r\n        isAuth: false,\r\n        userName: \"\",\r\n        useRefreshTokens: false\r\n    };\r\n\r\n    get authentication(): IAuthentication {\r\n        return this._authentication;\r\n    }\r\n\r\n    externalAuthData: IExternalData = {\r\n        provider: \"\",\r\n        userName: \"\",\r\n        externalAccessToken: \"\"\r\n    };\r\n\r\n    constructor(private http: HttpClient, private storage: LocalStorageService, private router: Router) {    \r\n    }\r\n\r\n    status(response) {\r\n        if (response.status >= 200 && response.status < 400) {\r\n            return response.json().catch(error => null);\r\n        }\r\n        console.log('status says bad request.');\r\n        throw response;\r\n    }\r\n\r\n    logout() {\r\n        return new Promise(resolve => {\r\n            console.log('logout called.');\r\n            this.storage.remove('authorizationData');\r\n            \r\n            this.authentication.isAuth = false;\r\n            this.authentication.userName = '';\r\n\r\n            resolve();\r\n        });\r\n    }\r\n\r\n    /**saveRegistration */\r\n    signUp(registration: IRegistration) {\r\n\r\n        this.logout();\r\n\r\n        return this.http.fetch('api/account/register', {\r\n            method: 'post',\r\n            body: json(registration)\r\n        })\r\n            .then(this.status)\r\n            .then((response) => {\r\n                return response;\r\n            });\r\n    }\r\n\r\n    login(loginData: ILoginData) {\r\n        // data\r\n        var content = \"grant_type=password&username=\" + loginData.userName + \"&password=\" + loginData.password;\r\n\r\n        return this.http.fetch('token', {\r\n            method: 'post',\r\n            headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\r\n            body: content\r\n        })\r\n            .then(this.status)\r\n            .then((response) => {\r\n\r\n                let authorizationData: IAuthorizationData = { accessToken: response.access_token, userName: response.userName, tokenType: \"bearer\", refreshToken: \"\", useRefreshTokens: false };\r\n\r\n                this.storage.set('authorizationData', authorizationData);\r\n\r\n                this._authentication.isAuth = true;\r\n                this._authentication.userName = loginData.userName;\r\n                this._authentication.useRefreshTokens = authorizationData.useRefreshTokens;\r\n\r\n                return response;\r\n            })\r\n            .catch(error => {\r\n                this.logout();\r\n                console.log(\"Error logging in.\");\r\n                return error;\r\n            });\r\n    }\r\n\r\n    intialize() {\r\n        var data = this.storage.get(\"authorizationData\");\r\n        //var data : IAuthorizationData = JSON.parse( this.storage.get(\"authorizationData\"));\r\n        if (data) {\r\n            var authorizationData: IAuthorizationData = JSON.parse(data);\r\n            this._authentication.isAuth = true;\r\n            this._authentication.userName = authorizationData.userName;\r\n            this._authentication.useRefreshTokens = authorizationData.useRefreshTokens;\r\n        }\r\n    }\r\n}\r\n","import { inject } from 'aurelia-framework';\r\nimport { PipelineStep, NavigationInstruction, Redirect, Next } from 'aurelia-router';\r\nimport { AuthService } from './authService';\r\n\r\n@inject(AuthService)\r\nexport class AuthStep implements PipelineStep {\r\n\r\n    constructor(private authService: AuthService) {\r\n\r\n    }\r\n\r\n    run(routingContext: NavigationInstruction, next: Next)\r\n    {\r\n        let isLoggedIn = this.authService.authentication.isAuth;\r\n        let loginRoute = \"/login\";\r\n\r\n        if(!isLoggedIn && routingContext.getAllInstructions().some(i => i.config.settings.auth)) {\r\n            return next.cancel(new Redirect(loginRoute));\r\n        }\r\n\r\n        return next();\r\n    }\r\n}","import { inject, Aurelia } from 'aurelia-framework';\r\nimport { HttpClient, Interceptor } from 'aurelia-fetch-client';\r\nimport { Router } from 'aurelia-router';\r\nimport { AuthService, IAuthorizationData } from './authservice';\r\nimport { LocalStorageService } from './localStorageService';\r\n\r\n@inject(Aurelia, LocalStorageService, Router)\r\nexport class AuthInterceptorService implements Interceptor {\r\n    constructor(private aurelia: Aurelia, private storage: LocalStorageService, private router: Router) {\r\n\r\n    }\r\n\r\n    foo = \"bar\";\r\n\r\n    request(request: Request) {\r\n\r\n        console.log('auth-interceptor called.');\r\n        var data = this.storage.get('authorizationData');\r\n        if (data) {\r\n            console.log('auth-interceptor ' + data);\r\n            let authData: IAuthorizationData = JSON.parse(data);\r\n            request.headers.append('Authorization', authData.tokenType + ' ' + authData.accessToken);\r\n        }\r\n\r\n        return request;\r\n    }\r\n\r\n    responseError(response: Response) {\r\n       if(response.status === 401) {\r\n           this.router.navigateToRoute('login');\r\n       }\r\n       return response;\r\n    }\r\n}","import 'bootstrap'\n\nimport { inject } from 'aurelia-framework'\nimport { Router, RouterConfiguration } from 'aurelia-router';\nimport { HttpClient } from 'aurelia-fetch-client';\n\n// import { AuthorizeStep } from 'aurelia-auth';\n// import {FetchConfig} from 'aurelia-auth';\n\nimport { AuthService } from './services/authService';\nimport { AuthStep } from './services/auth-step';\nimport { AuthInterceptorService } from './services/auth-interceptor-service';\n\n@inject(HttpClient, AuthService, AuthInterceptorService)\n// @inject(FetchConfig)\nexport class App {\n    router: Router;\n\n    // constructor(private fetchConfig: FetchConfig) {\n    constructor(http: HttpClient, authService: AuthService, private authInterceptorService: AuthInterceptorService) {\n        \n        authService.intialize();        \n\n        console.log(authInterceptorService.foo);\n\n        http.configure(httpConfig => {\n            httpConfig\n                .useStandardConfiguration()\n                .withBaseUrl('http://localhost:45933/')\n                .withDefaults({                    \n                    headers: {\n                        'Accept': 'application/json',\n                        'Content-Type': 'application/json'\n                    }\n                })\n                .withInterceptor(authInterceptorService);\n        });\n    }\n\n    configureRouter(config: RouterConfiguration, router: Router) {\n        this.router = router;\n        config.title = 'Random Quotes App';\n\n        // Here we hook into the authorize extensibility point\n        // to add a route filter so that we can require authentication\n        // on certain routes\n        config.addPipelineStep('authorize', AuthStep);\n\n        // Here we describe the routes we want along with information about them\n        // such as which they are accessible at, which module they use, and whether\n        // they should be placed in the navigation bar\n        config.map([\n            { route: ['', 'Home'], name: 'Home', moduleId: 'home', nav: true, title: 'Home', settings: { class: 'navbar-brand' } },\n            { route: 'random-quote', name: 'random-quote', moduleId: 'random-quote', nav: true, title: 'Random Quote' },\n            // The secret-quote route is the only one that the user needs to be logged in to see,  so we set auth: true\n            { route: 'secret-quote', name: 'secret-quote', moduleId: 'secret-quote', nav: true, title: 'Super Secret Quote', settings: {auth: true} },\n            { route: 'signup', name: 'signup', moduleId: 'signup', nav: false, title: 'Sign up', authRoute: true },\n            { route: 'login', name: 'login', moduleId: 'login', nav: false, title: 'Login', authRoute: true },\n            { route: 'logout', name: 'logout', moduleId: 'logout', nav: false, title: 'Logout', authRoute: true }\n        ]);\n    }\n\n    activate() {\n        // this.fetchConfig.configure();\n\n    }\n}","var config = {\r\n    baseUrl: 'http://localhost:45933',\r\n    signupUrl: 'api/account/register',\r\n    loginUrl: 'token',\r\n    tokenName: 'access_token',\r\n    loginRedirect: \"#/secret-quote\"    \r\n}\r\n\r\nexport default config;","export default {\n  debug: true,\n  testing: true\n};\n","export class Home {\r\n    heading = \"Aurelia Authentication\";\r\n    info = \"Aurelia Quotes Application which uses OAuth Bearer Token for authentication and implements Refresh Tokens. The backend API is built using ASP.NET Web API 2, OWIN middleware, and ASP.NET Identity.\";\r\n}","import { inject } from 'aurelia-framework';\r\nimport { AuthService, ILoginData } from './services/authService';\r\n\r\ninterface UserInfo {\r\n    email: string;\r\n    password: string;\r\n}\r\n\r\n@inject(AuthService)\r\nexport class Login {\r\n    heading = \"Login\";\r\n\r\n    email = \"\";\r\n    password = \"\";\r\n    useRefreshTokens = false;\r\n\r\n    loginError = \"\";\r\n\r\n    constructor(private auth: AuthService) {\r\n    }\r\n\r\n    login() {             \r\n         var creds = \"grant_type=password&username=\" + this.email + \"&password=\" + this.password;\r\n\r\n         if(this.useRefreshTokens) {\r\n             creds = creds + \"&client_id=\" + \"auAuthApp\";\r\n         }         \r\n\r\n        let loginData : ILoginData = { \r\n            userName: this.email,\r\n            password: this.password\r\n        };\r\n\r\n        return this.auth.login(loginData)\r\n            .then((response) => {\r\n                console.log(\"Login response: \" + response);\r\n            })\r\n            .catch(error => {\r\n                this.loginError = error.response;\r\n            });\r\n    }\r\n}","import {inject} from 'aurelia-framework';\r\n\r\nimport {AuthService} from './services/authService';\r\n\r\n@inject(AuthService)\r\nexport class Logout {\r\n    constructor(private authService: AuthService) {}\r\n\r\n    activate() {\r\n        this.authService.logout()\r\n            .then(respone => {\r\n                console.log(\"Logged Out!\");\r\n            })\r\n            .catch(err => {\r\n                console.log(\"Error Logging Out\");\r\n            });\r\n    }\r\n}","import {Aurelia} from 'aurelia-framework'\n\nimport config from './auth-config';\nimport environment from './environment';\n\n//Configure Bluebird Promises.\n//Note: You may want to use environment-specific configuration.\n(<any>Promise).config({\n  warnings: {\n    wForgottenReturn: false\n  }\n});\n\nexport function configure(aurelia: Aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .feature('resources')\n    .plugin('aurelia-auth', (baseConfig) => {\n         baseConfig.configure(config);\n    });\n\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","import {bindable} from 'aurelia-framework';\r\nimport {inject} from 'aurelia-framework';\r\nimport {AuthService} from './services/authService';\r\n\r\n@inject(AuthService)\r\nexport class NavBar {\r\n    _isAuthenticated = false;\r\n    @bindable router = null;\r\n\r\n    constructor(private auth: AuthService) {\r\n        \r\n    }\r\n\r\n    get isAuthenticated() {\r\n        return this.auth.authentication.isAuth;\r\n    }\r\n}\r\n\r\n\r\n","import {inject} from 'aurelia-framework';\r\nimport {HttpClient} from 'aurelia-fetch-client';\r\n\r\n@inject(HttpClient)\r\nexport class RandomQuote {\r\n    heading = \"Random Quote\";\r\n\r\n    randomQuote = \"\";\r\n\r\n    constructor (private httpClient: HttpClient) {        \r\n    }\r\n\r\n    activate() {\r\n        return this.getQuote();\r\n    }\r\n\r\n    getQuote() {       \r\n\r\n        return this.httpClient.fetch(\"api/random-quote\")\r\n            .then(response => response.text())\r\n            .then(data => this.randomQuote = data)                           \r\n            .catch(error => {\r\n                console.log(\"Error getting quote.\");\r\n        });        \r\n    }\r\n}","import {inject} from 'aurelia-framework';\r\nimport {HttpClient} from 'aurelia-fetch-client';\r\n\r\n@inject(HttpClient)\r\nexport class RandomQuote {\r\n    heading = \"Super Secret Quote\";\r\n\r\n    secretQuote = \"\";\r\n\r\n    constructor (private httpClient: HttpClient) {        \r\n    }\r\n\r\n    activate() {      \r\n\r\n        return this.httpClient.fetch(\"api/protected/random-quote\")\r\n            .then(response => response.text())\r\n            .then(data => this.secretQuote = data)            \r\n                           \r\n            .catch(error => {\r\n                console.log(\"Error getting quote.\");\r\n            });\r\n    }\r\n}","import { inject } from 'aurelia-framework';\r\nimport { AuthService } from 'aurelia-auth';\r\n\r\ninterface UserInfo {\r\n    email: string;\r\n    password: string;\r\n}\r\n\r\n@inject(AuthService)\r\nexport class Signup {\r\n    heading = \"Sign Up\";\r\n\r\n    email = \"\";\r\n    password = \"\";\r\n\r\n    signupError = \"\";\r\n\r\n    constructor(private auth: AuthService) {\r\n    }\r\n\r\n    signup() {\r\n\r\n        var userInfo = { userName: this.email, password: this.password, confirmPassword: this.password };\r\n\r\n        return this.auth.signup(userInfo, \"\", \"\")\r\n            .then((response) => {\r\n                console.log(\"Signed Up!\");\r\n            })\r\n            .catch(error => {\r\n                this.signupError = error.response;\r\n            });\r\n    };\r\n}","export class Todo {\r\n    done = false;\r\n\r\n    constructor(public description: string) {}\r\n}","import {FrameworkConfiguration} from 'aurelia-framework';\n\nexport function configure(config: FrameworkConfiguration) {\n  //config.globalResources([]);\n}\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"sourceRoot":"..\\src"}